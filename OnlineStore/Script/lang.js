"use sttric";

// Complete translation dictionary for SYSTEMSTORES

document.addEventListener("DOMContentLoaded", function () {
  console.log("Translation script loaded");

  const translations = {
    fr: {
      // Common elements
      SYSTEMSTORES: "SYSTEMSTORES",
      "Best Online Shopping Experience":
        "Meilleure exp√©rience d'achat en ligne",
      Home: "Accueil",
      Products: "Produits",
      Cart: "Panier",
      Contact: "Contact",
      "About Us": "√Ä propos",
      "Order History": "Historique des commandes",
      Account: "Compte",
      Login: "Connexion",
      Logout: "D√©connexion",
      English: "Anglais",
      Fran√ßais: "Fran√ßais",
      "All rights reserved": "Tous droits r√©serv√©s",
      "Privacy Policy": "Politique de confidentialit√©",
      "Call Us": "Appelez-nous",
      "Email Us": "√âcrivez-nous",
      "¬© 2025": "¬© 2025",

      // About Us Page
      "Welcome to SYSTEMSTORES": "Bienvenue chez SYSTEMSTORES",
      "Founded in 2025 by Eric Ekra and Mamadou Barry":
        "Fond√© en 2025 par Eric Ekra et Mamadou Barry",
      Canada: "Canada",
      "eco-friendly products": "produits √©cologiques",
      "We hope you enjoy our products":
        "Nous esp√©rons que vous appr√©cierez nos produits",
      "If you have any questions or comments":
        "Si vous avez des questions ou des commentaires",
      "About Us": "√Ä propos de nous",
      "your number one source for all things products":
        "votre source num√©ro un pour tous les produits",
      "We're dedicated to giving you the very best":
        "Nous nous engageons √† vous offrir le meilleur",
      "dependability, customer service, and uniqueness":
        "fiabilit√©, service client et unicit√©",
      "passion drove him to do tons of research":
        "sa passion l'a pouss√© √† faire des recherches approfondies",
      "world's most advanced products": "produits les plus avanc√©s au monde",
      "We now serve customers all over Canada":
        "Nous desservons maintenant des clients partout au Canada",
      "turn our passion into our own website":
        "transformer notre passion en notre propre site web",

      // Account Pages
      "Create Your Account": "Cr√©er votre compte",
      "First Name": "Pr√©nom",
      "Last Name": "Nom de famille",
      "Email address": "Adresse e-mail",
      Password: "Mot de passe",
      "Confirm Password": "Confirmer le mot de passe",
      "I agree to the Terms and Conditions":
        "J'accepte les conditions g√©n√©rales",
      "Terms and Conditions": "Conditions g√©n√©rales",
      "Already have an account? Log in":
        "Vous avez d√©j√† un compte? Connectez-vous",
      "Account created successfully! Redirecting...":
        "Compte cr√©√© avec succ√®s! Redirection...",
      "Profile Information": "Informations du profil",
      "Update Profile": "Mettre √† jour le profil",
      "Recent Orders": "Commandes r√©centes",
      "Quick Order": "Commande rapide",
      "Place Order": "Passer la commande",
      "Account Menu": "Menu du compte",
      Addresses: "Adresses",
      "Payment Methods": "Moyens de paiement",
      Settings: "Param√®tres",
      "You must provide accurate and complete registration information":
        "Vous devez fournir des informations d'inscription exactes et compl√®tes",
      "You are responsible for maintaining the confidentiality of your account credentials":
        "Vous √™tes responsable de la confidentialit√© de vos identifiants de compte",
      "You agree to receive occasional marketing emails":
        "Vous acceptez de recevoir occasionnellement des e-mails marketing",
      "We reserve the right to terminate accounts":
        "Nous nous r√©servons le droit de r√©silier les comptes",
      "I Agree": "J'accepte",
      Close: "Fermer",

      // Cart Page
      "Your Cart": "Votre panier",
      "Review your selected items before checkout":
        "V√©rifiez vos articles s√©lectionn√©s avant le paiement",
      "Add to Cart": "Ajouter au panier",
      "Remove from Cart": "Retirer du panier",
      "Cart Summary": "R√©sum√© du panier",
      "Total items": "Nombre total d'articles",
      "Total price": "Prix total",
      Shipping: "Livraison",
      Tax: "Taxe",
      "Grand Total": "Total g√©n√©ral",
      "Promo Code": "Code promo",
      "Enter promo code": "Entrez le code promo",
      Apply: "Appliquer",
      Checkout: "Paiement",
      Name: "Nom",
      Address: "Adresse",
      "Payment Method": "M√©thode de paiement",
      "Select a payment method": "S√©lectionnez un mode de paiement",
      "Credit Card": "Carte de cr√©dit",
      PayPal: "PayPal",
      "Bank Transfer": "Virement bancaire",
      Cryptocurrency: "Cryptomonnaie",
      "Place Order": "Passer la commande",
      "Clear Cart": "Vider le panier",
      "Continue Shopping": "Continuer les achats",
      "Save Cart": "Sauvegarder le panier",
      "Load Cart": "Charger le panier",
      "Order Confirmation": "Confirmation de commande",
      "Order Details": "D√©tails de la commande",
      "Card Number": "Num√©ro de carte",
      "Expiry Date": "Date d'expiration",
      CVV: "CVV",
      "Name on Card": "Nom sur la carte",
      "You'll be redirected to PayPal": "Vous serez redirig√© vers PayPal",
      "Bank transfer details will be provided":
        "Les d√©tails du virement bancaire seront fournis",
      "We accept Bitcoin, Ethereum, and USDC":
        "Nous acceptons Bitcoin, Ethereum et USDC",

      // Contact Page
      "Get in Touch": "Contactez-nous",
      "If you have any questions or need assistance":
        "Si vous avez des questions ou besoin d'aide",
      Message: "Message",
      "Send Message": "Envoyer le message",

      // Forgot/Reset Password
      "Forgot Password": "Mot de passe oubli√©",
      "Enter your registered email": "Entrez votre e-mail enregistr√©",
      "Send Reset Link": "Envoyer le lien de r√©initialisation",
      "Reset Your Password": "R√©initialiser votre mot de passe",
      "New Password": "Nouveau mot de passe",
      "Reset Password": "R√©initialiser le mot de passe",

      // Login Page
      "Enter your password": "Entrez votre mot de passe",
      "Forgot Password?": "Mot de passe oubli√©?",
      Reset: "R√©initialiser",

      // Order History
      "Past Orders": "Commandes pass√©es",
      "Confirmation #": "N¬∞ de confirmation",
      Date: "Date",
      Subtotal: "Sous-total",

      // Products Page
      "Filter Products": "Filtrer les produits",
      "Category:": "Cat√©gorie :",
      All: "Tous",
      "Beauty & Personal Care": "Beaut√© et soins personnels",
      Books: "Livres",
      Electronics: "√âlectroniques",
      "Home & Kitchen": "Maison et cuisine",
      "Price Range:": "Tranche de prix :",
      "Apply Filters": "Appliquer les filtres",
      "Reset Filters": "R√©initialiser les filtres",
      "High-quality item with excellent features":
        "Article de haute qualit√© avec d'excellentes caract√©ristiques",
      "A must-have product for everyday use":
        "Un produit indispensable pour un usage quotidien",
      "Top-rated item with premium quality":
        "Article bien not√© avec une qualit√© premium",
      "Smartwatch with advanced features":
        "Montre intelligente avec des fonctionnalit√©s avanc√©es",
      "Eco-friendly product with great reviews":
        "Produit √©cologique avec d'excellents avis",
      "Affordable and reliable product": "Produit abordable et fiable",

      // Home Page
      "WELCOME TO SYSTEMSTORES": "BIENVENUE CHEZ SYSTEMSTORES",
      "Featured Products": "Produits vedettes",
      "Discover our top-rated items that customers love":
        "D√©couvrez nos articles les mieux not√©s que les clients adorent",
      "Product Comparison Table": "Tableau de comparaison des produits",
      Product: "Produit",
      Price: "Prix",
      Comments: "Commentaires",
    },
  };

// üåç Current language state
let currentLanguage = localStorage.getItem("selectedLanguage") || "en";

// üöÄ Initialize language system
document.addEventListener("DOMContentLoaded", function () {
  initializeLanguage();
});

// üß† Initialize language logic
function initializeLanguage() {
  createLanguageToggle();
  applyLanguage(currentLanguage);
  addLanguageEventListeners();
}

// üõ† Create language toggle buttons
function createLanguageToggle() {
  const navbar = document.querySelector("#navbarNav .navbar-nav");
  if (navbar) {
    const languageToggle = document.createElement("li");
    languageToggle.innerHTML = `
      <div class="language-toggle">
        <button id="lang-fr" class="lang-btn ${currentLanguage === "fr" ? "active" : ""}">FR</button>
      </div>
    `;
    navbar.appendChild(languageToggle);
  }
}

//  Add event listeners for language switching
function addLanguageEventListeners() {
  const langButtons = document.querySelectorAll(".lang-btn");
  langButtons.forEach((button) => {
    button.addEventListener("click", (e) => {
      e.preventDefault();
      const lang = e.target.id.split("-")[1];
      switchLanguage(lang);
    });
  });
}

//  Switch language and update UI
function switchLanguage(lang) {
  if (lang !== currentLanguage) {
    currentLanguage = lang;
    localStorage.setItem("selectedLanguage", lang);
    applyLanguage(lang);
    updateActiveButton(lang);
  }
}

//  Update active button styling
function updateActiveButton(lang) {
  document.querySelectorAll(".lang-btn").forEach((btn) =>
    btn.classList.remove("active")
  );
  const activeBtn = document.getElementById(`lang-${lang}`);
  if (activeBtn) activeBtn.classList.add("active");
}

//  Apply translations to all elements
function applyLanguage(lang) {
  const dictionary = translations[lang];
  if (!dictionary) return;

  // Translate <title> if applicable
  const titleEl = document.querySelector("title[data-translate]");
  if (titleEl) {
    const titleKey = titleEl.getAttribute("data-translate");
    if (dictionary[titleKey]) {
      document.title = dictionary[titleKey];
    }
  }

  // Translate all elements with data-translate
  const elements = document.querySelectorAll("[data-translate]");
  elements.forEach((element) => {
    const key = element.getAttribute("data-translate");
    const translation = dictionary[key] || key;

    if (element.tagName === "INPUT" || element.tagName === "TEXTAREA") {
      if (element.placeholder) {
        element.placeholder = translation;
      } else if (element.type === "submit" || element.type === "button") {
        element.value = translation;
      }
    } else {
      element.textContent = translation;
    }
  });
}
});
